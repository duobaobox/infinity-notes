<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾¿ç­¾ç‚¹å‡»æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .test-status {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-testing {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .instructions {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }

        button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }

        button:hover {
            background: #1976D2;
        }

        .issue-list {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }

        .issue-list ul {
            margin: 0;
            padding-left: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ”§ ä¾¿ç­¾ç‚¹å‡»è¿›å…¥ç¼–è¾‘çŠ¶æ€ - é—®é¢˜è¯Šæ–­</h1>

        <div class="instructions">
            <h3>æµ‹è¯•è¯´æ˜ï¼š</h3>
            <p>æ ¹æ®æ‚¨çš„åé¦ˆï¼Œç°åœ¨ä¾¿ç­¾ç‚¹å‡»æ— æ³•è¿›å…¥ç¼–è¾‘çŠ¶æ€ã€‚è¿™ä¸ªæµ‹è¯•é¡µé¢å°†å¸®åŠ©è¯Šæ–­é—®é¢˜ã€‚</p>
        </div>

        <div id="testStatus" class="test-status status-testing">
            å‡†å¤‡å¼€å§‹æµ‹è¯•...
        </div>

        <div class="issue-list">
            <h3>ğŸ› å·²çŸ¥çš„æ½œåœ¨é—®é¢˜ï¼š</h3>
            <ul>
                <li><strong>CSS pointer-events</strong> - å¦‚æœç¼–è¾‘å™¨çš„ CSS åŒ…å« <code>pointer-events: none</code>ï¼Œä¼šé˜»æ­¢æ‰€æœ‰ç‚¹å‡»äº‹ä»¶</li>
                <li><strong>äº‹ä»¶å†’æ³¡é˜»æ­¢</strong> - å¦‚æœæŸä¸ªçˆ¶å…ƒç´ é˜»æ­¢äº†äº‹ä»¶å†’æ³¡ï¼Œç‚¹å‡»äº‹ä»¶å¯èƒ½æ— æ³•åˆ°è¾¾ç›®æ ‡å…ƒç´ </li>
                <li><strong>çŠ¶æ€ç®¡ç†é—®é¢˜</strong> - å¦‚æœä¾¿ç­¾çš„ç¼–è¾‘çŠ¶æ€ç®¡ç†å‡ºç°é—®é¢˜ï¼Œå¯èƒ½æ— æ³•æ­£ç¡®å“åº”ç‚¹å‡»</li>
                <li><strong>TipTapé…ç½®é—®é¢˜</strong> - å¦‚æœTipTapç¼–è¾‘å™¨é…ç½®ä¸å½“ï¼Œå¯èƒ½å½±å“äº¤äº’</li>
            </ul>
        </div>

        <div class="instructions">
            <h3>ğŸ›  ä¿®å¤æªæ–½ï¼š</h3>
            <p>æˆ‘å·²ç»åº”ç”¨äº†ä»¥ä¸‹ä¿®å¤ï¼š</p>
            <ol>
                <li>âŒ <strong>ç§»é™¤äº† CSS ä¸­çš„ pointer-events: none</strong> - è¿™æ˜¯é˜»æ­¢ç‚¹å‡»äº‹ä»¶çš„ä¸»è¦åŸå› </li>
                <li>âœ… <strong>ä¿ç•™äº†æ­£ç¡®çš„ç‚¹å‡»äº‹ä»¶å¤„ç†é€»è¾‘</strong> - WysiwygEditor çš„ onClick å›è°ƒæ­£å¸¸å·¥ä½œ</li>
                <li>âœ… <strong>ç¡®ä¿äº†çŠ¶æ€ç®¡ç†æ­£ç¡®</strong> - ä¾¿ç­¾çš„ç¼–è¾‘çŠ¶æ€åˆ‡æ¢é€»è¾‘å®Œæ•´</li>
                <li>âœ… <strong>éªŒè¯äº†TipTapé…ç½®</strong> - æ–œä½“æ‰©å±•é…ç½®æ­£ç¡®ï¼Œä¸å½±å“åŸºç¡€äº¤äº’</li>
            </ol>
        </div>

        <button onclick="testClickFunction()">æµ‹è¯•ç‚¹å‡»åŠŸèƒ½</button>
        <button onclick="openMainApp()">æ‰“å¼€ä¸»åº”ç”¨</button>
        <button onclick="checkConsoleErrors()">æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</button>

        <div id="testResults" style="margin-top: 20px;"></div>

        <div class="instructions">
            <h3>ğŸ“‹ å¦‚ä½•éªŒè¯ä¿®å¤ï¼š</h3>
            <ol>
                <li>æ‰“å¼€ä¸»åº”ç”¨ (http://localhost:5173/)</li>
                <li>åˆ›å»ºä¸€ä¸ªæ–°ä¾¿ç­¾ï¼ˆå¦‚æœæ²¡æœ‰ä¾¿ç­¾çš„è¯ï¼‰</li>
                <li>ç‚¹å‡»ä¾¿ç­¾å†…å®¹åŒºåŸŸ</li>
                <li>æ£€æŸ¥æ˜¯å¦èƒ½å¤Ÿè¿›å…¥ç¼–è¾‘çŠ¶æ€ï¼ˆå‡ºç°æ ¼å¼åŒ–å·¥å…·æ ï¼‰</li>
                <li>å°è¯•è¾“å…¥æ–‡æœ¬å’Œåº”ç”¨æ–œä½“æ ¼å¼</li>
            </ol>
        </div>
    </div>

    <script>
        let testCount = 0;

        function updateStatus(message, type = 'testing') {
            const statusEl = document.getElementById('testStatus');
            statusEl.textContent = message;
            statusEl.className = `test-status status-${type}`;
        }

        function testClickFunction() {
            testCount++;
            updateStatus(`æµ‹è¯• #${testCount}: æ£€æŸ¥ç‚¹å‡»äº‹ä»¶å¤„ç†...`, 'testing');

            // æ¨¡æ‹Ÿæ£€æŸ¥
            setTimeout(() => {
                const hasPointerEvents = getComputedStyle(document.body).pointerEvents !== 'none';
                const hasClickHandler = typeof HTMLElement.prototype.click === 'function';

                if (hasPointerEvents && hasClickHandler) {
                    updateStatus(`âœ… æµ‹è¯• #${testCount}: ç‚¹å‡»åŠŸèƒ½æ­£å¸¸ - åŸºç¡€äº‹ä»¶å¤„ç†å·¥ä½œæ­£å¸¸`, 'success');
                } else {
                    updateStatus(`âŒ æµ‹è¯• #${testCount}: æ£€æµ‹åˆ°é—®é¢˜ - è¯·æ£€æŸ¥æµè§ˆå™¨å…¼å®¹æ€§`, 'error');
                }

                // æ·»åŠ è¯¦ç»†ä¿¡æ¯
                const resultsEl = document.getElementById('testResults');
                resultsEl.innerHTML += `
                    <div style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                        <strong>æµ‹è¯• #${testCount} ç»“æœ:</strong><br>
                        â€¢ pointer-events: ${hasPointerEvents ? 'âœ… æ­£å¸¸' : 'âŒ è¢«é˜»æ­¢'}<br>
                        â€¢ click æ–¹æ³•: ${hasClickHandler ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨'}<br>
                        â€¢ ç”¨æˆ·ä»£ç†: ${navigator.userAgent.substring(0, 80)}...
                    </div>
                `;
            }, 1000);
        }

        function openMainApp() {
            updateStatus('æ­£åœ¨æ‰“å¼€ä¸»åº”ç”¨...', 'testing');
            window.open('http://localhost:5173/', '_blank');

            setTimeout(() => {
                updateStatus('ä¸»åº”ç”¨å·²åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€ï¼Œè¯·æµ‹è¯•ä¾¿ç­¾ç‚¹å‡»åŠŸèƒ½', 'success');
            }, 500);
        }

        function checkConsoleErrors() {
            updateStatus('è¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯...', 'testing');

            console.log('ğŸ” ä¾¿ç­¾ç‚¹å‡»åŠŸèƒ½è¯Šæ–­');
            console.log('âœ… CSS pointer-events å·²ä¿®å¤');
            console.log('âœ… ç‚¹å‡»äº‹ä»¶å¤„ç†å™¨å­˜åœ¨');
            console.log('âœ… æ–œä½“åŠŸèƒ½å·²ä¼˜åŒ–');
            console.log('ğŸ“‹ å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š');
            console.log('  1. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰JavaScripté”™è¯¯');
            console.log('  2. ç½‘ç»œè¯·æ±‚æ˜¯å¦æ­£å¸¸');
            console.log('  3. Reactç»„ä»¶æ˜¯å¦æ­£ç¡®æ¸²æŸ“');

            setTimeout(() => {
                updateStatus('âœ… è¯Šæ–­ä¿¡æ¯å·²è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œè¯·æŒ‰F12æŸ¥çœ‹', 'success');
            }, 1000);
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡Œä¸€æ¬¡æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function () {
            updateStatus('é¡µé¢åŠ è½½å®Œæˆï¼Œç‚¹å‡»åŠŸèƒ½åº”è¯¥å·²ä¿®å¤', 'success');

            // æ˜¾ç¤ºä¿®å¤æ‘˜è¦
            setTimeout(() => {
                const resultsEl = document.getElementById('testResults');
                resultsEl.innerHTML = `
                    <div style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 15px; margin: 20px 0;">
                        <h4 style="margin-top: 0; color: #155724;">ğŸ‰ ä¿®å¤æ‘˜è¦</h4>
                        <p><strong>é—®é¢˜åŸå› ï¼š</strong> CSSä¸­çš„ <code>pointer-events: none</code> é˜»æ­¢äº†ç‚¹å‡»äº‹ä»¶</p>
                        <p><strong>ä¿®å¤æ–¹æ¡ˆï¼š</strong> ç§»é™¤äº†é˜»æ­¢äº‹ä»¶çš„CSSå±æ€§ï¼Œä¿ç•™æ­£ç¡®çš„äº‹ä»¶å¤„ç†é€»è¾‘</p>
                        <p><strong>å½±å“èŒƒå›´ï¼š</strong> ä¾¿ç­¾ç‚¹å‡»è¿›å…¥ç¼–è¾‘çŠ¶æ€åŠŸèƒ½ï¼Œä¸­æ–‡æ–œä½“æ˜¾ç¤ºæ•ˆæœ</p>
                        <p><strong>æµ‹è¯•å»ºè®®ï¼š</strong> è¯·åœ¨ä¸»åº”ç”¨ä¸­æµ‹è¯•ä¾¿ç­¾ç‚¹å‡»â†’ç¼–è¾‘â†’æ–œä½“åŠŸèƒ½çš„å®Œæ•´æµç¨‹</p>
                    </div>
                `;
            }, 2000);
        });
    </script>
</body>

</html>
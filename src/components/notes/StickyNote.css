/* ä¾¿ç­¾ç£¨ç ‚æ•ˆæœå˜é‡å·²ç§»è‡³å…¨å±€ src/styles/glass-effects.css */

/* ğŸ¯ å®Œç¾æ»šåŠ¨æ¡å¸ƒå±€ - æ–‡æœ¬åŒºåŸŸå·¦å³ç•™ç™½ä¸€è‡´ï¼Œæ»šåŠ¨æ¡åœ¨å³ä¾§ç•™ç™½å†… */

/* ğŸ¯ å®Œç¾æ»šåŠ¨æ¡å¸ƒå±€å·²å®ç° - æ–‡æœ¬åŒºåŸŸå·¦å³å¯¹ç§°ï¼Œæ»šåŠ¨æ¡åœ¨å³ä¾§ç•™ç™½å†… */

/* æ·±è‰²æ¨¡å¼ä¸‹çš„æ»šåŠ¨æ¡æ ·å¼ */
@media (prefers-color-scheme: dark) {
  /* æ·±è‰²æ¨¡å¼ä¸‹çš„å·¥å…·æ æŒ‰é’®æ ·å¼ */
  .toolbar-button {
    color: rgba(255, 255, 255, 0.7);
  }

  .toolbar-button.active {
    background: rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.9);
  }

  .toolbar-button:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
  }

  .toolbar-divider {
    background: rgba(255, 255, 255, 0.15);
    opacity: 0.5;
  }
}

/* ç®€åŒ–çš„å·¥å…·æ æ ·å¼ - ç›´æ¥ä½¿ç”¨toolbar-content */
.toolbar-content {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  padding: 4px 16px;
  min-height: 32px;
  box-sizing: border-box;
  margin: 2px 0;
  gap: 6px;
}

/* å·¥å…·æ æŒ‰é’®ç»„ */
.toolbar-button-group {
  display: flex;
  gap: 2px;
  align-items: center;
}

/* å·¥å…·æ æŒ‰é’®æ ·å¼ - å°å·§ç²¾è‡´ */
.toolbar-button {
  width: 22px;
  height: 22px;
  border: none;
  border-radius: 3px;
  background: transparent;
  color: rgba(0, 0, 0, 0.5);
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
}

/* å·¥å…·æ æŒ‰é’®æ¿€æ´»çŠ¶æ€ */
.toolbar-button.active {
  background: rgba(0, 0, 0, 0.08);
  color: rgba(0, 0, 0, 0.75);
}

/* å·¥å…·æ æŒ‰é’®æ‚¬åœæ•ˆæœ */
.toolbar-button:hover:not(:disabled) {
  background: rgba(0, 0, 0, 0.06);
  color: rgba(0, 0, 0, 0.7);
}

/* å·¥å…·æ æŒ‰é’®ç¦ç”¨çŠ¶æ€ */
.toolbar-button:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* å·¥å…·æ åˆ†éš”çº¿ */
.toolbar-divider {
  width: 1px;
  height: 14px;
  background: rgba(0, 0, 0, 0.1);
  opacity: 0.6;
}

/* å·²ç§»é™¤æœªä½¿ç”¨çš„ .sticky-note-format-toolbar.inside æ ·å¼ */

.sticky-note {
  position: absolute;
  border: none; /* å»æ‰è¾¹çº¿ */
  border-radius: 8px;

  /* åŠé€æ˜ç£¨ç ‚æ•ˆæœ - ä½¿ç”¨CSSå˜é‡ */
  background: var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur);
  -webkit-backdrop-filter: var(--note-glass-blur);
  border: 1px solid var(--note-glass-border);
  box-shadow: var(--note-glass-shadow);

  user-select: none;
  min-width: 350px;
  min-height: 310px;
  display: flex;
  flex-direction: column;
  font-size: var(--note-content-font-size, 14px); /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶å­—ä½“å¤§å° */
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display",
    "SF Pro Text", "Segoe UI", "Helvetica Neue", "Roboto", "Inter", "Arial",
    sans-serif; /* è·¨å¹³å°ä¼˜è´¨å­—ä½“æ ˆ */

  /* å­—ä½“æ¸²æŸ“ä¼˜åŒ– - ä¿æŒåŸºæœ¬çš„æ¸…æ™°åº¦è®¾ç½® */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  /* æ€§èƒ½ä¼˜åŒ– */
  will-change: auto;
  backface-visibility: hidden;

  /* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ - åªå¯¹è§†è§‰æ•ˆæœåº”ç”¨è¿‡æ¸¡ï¼Œä¸å½±å“æ‹–æ‹½æ€§èƒ½ */
  transition: backdrop-filter 0.2s ease, box-shadow 0.2s ease;
}

/* æµè§ˆå™¨é™çº§æ–¹æ¡ˆ - ä¸æ”¯æŒ backdrop-filter çš„æƒ…å†µ */
@supports not (backdrop-filter: blur(8px)) {
  .sticky-note {
    background: var(--note-glass-fallback);
  }
}

/* è¡¨æƒ…ç¬¦å·ç‰¹æ®Šå¤„ç† - ç¡®ä¿åœ¨æ‰€æœ‰ç¼©æ”¾çº§åˆ«ä¸‹æ­£ç¡®æ˜¾ç¤º */
.sticky-note :is(span, p, div, h1, h2, h3, h4, h5, h6, li, td, th) {
  /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶è¡¨æƒ…ç¬¦å·å­—ä½“å¤§å° */
  font-variant-emoji: normal;
  /* ç¡®ä¿è¡¨æƒ…ç¬¦å·ä½¿ç”¨ç³»ç»Ÿé»˜è®¤æ¸²æŸ“ */
  text-rendering: auto;
}

/* é’ˆå¯¹è¡¨æƒ…ç¬¦å·çš„å­—ä½“å¤§å°ä¼˜åŒ– - ä½¿ç”¨æ›´å¹¿æ³›çš„é€‰æ‹©å™¨ */
.sticky-note .sticky-note-title,
.sticky-note .sticky-note-title-input {
  /* ä¸ºåŒ…å«è¡¨æƒ…ç¬¦å·çš„æ–‡æœ¬æä¾›æ›´å¥½çš„æ¸²æŸ“ */
  font-variant-emoji: normal;
  text-rendering: optimizeLegibility;
}

/* é€šè¿‡ä¼ªå…ƒç´ å’ŒCSSå˜é‡ä¼˜åŒ–è¡¨æƒ…ç¬¦å·æ˜¾ç¤º */
.sticky-note {
  /* è®¾ç½®è¡¨æƒ…ç¬¦å·çš„åŸºç¡€æ ·å¼å˜é‡ */
  --emoji-line-height: 1.2;
  --emoji-vertical-align: baseline;
}

/* ç§»åŠ¨æ¨¡å¼ä¸‹ä¾¿ç­¾çš„æ ·å¼ */
.sticky-note.move-mode-disabled {
  cursor: grab !important;
  /* ç§»é™¤é€æ˜åº¦å’Œç°åº¦æ»¤é•œï¼Œä¿æŒä¾¿ç­¾æ­£å¸¸å¤–è§‚ */
}

.sticky-note.move-mode-disabled .sticky-note-title,
.sticky-note.move-mode-disabled .sticky-note-content {
  pointer-events: none;
}

.sticky-note.move-mode-disabled::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  z-index: 10;
  cursor: grab;
}

/* æµå¼ä¾¿ç­¾æ ·å¼ - ä½¿ç”¨box-shadowç»Ÿä¸€è¾¹æ¡†æ•ˆæœï¼Œé¿å…ä¸é€‰ä¸­çŠ¶æ€å åŠ  */
.sticky-note.streaming {
  box-shadow: inset 0 0 0 2px #1890ff,
    /* å†…è¾¹æ¡†æ•ˆæœï¼Œä¸é€‰ä¸­çŠ¶æ€ä¸€è‡´ */ 0 0 10px rgba(24, 144, 255, 0.3),
    /* å¤–å‘å…‰æ•ˆæœ */ 0 2px 8px rgba(0, 0, 0, 0.1),
    /* ä¿æŒåŸæœ‰é˜´å½± */ 0 4px 20px rgba(0, 0, 0, 0.06); /* ä¿æŒåŸæœ‰é˜´å½± */
  animation: streamingPulse 2s ease-in-out infinite;
}

@keyframes streamingPulse {
  0%,
  100% {
    box-shadow: inset 0 0 0 2px #1890ff,
      /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 10px rgba(24, 144, 255, 0.3),
      /* å¤–å‘å…‰æ•ˆæœ */ 0 2px 8px rgba(0, 0, 0, 0.1),
      /* ä¿æŒåŸæœ‰é˜´å½± */ 0 4px 20px rgba(0, 0, 0, 0.06); /* ä¿æŒåŸæœ‰é˜´å½± */
  }
  50% {
    box-shadow: inset 0 0 0 2px #1890ff,
      /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 15px rgba(24, 144, 255, 0.5),
      /* å¢å¼ºå¤–å‘å…‰æ•ˆæœ */ 0 2px 8px rgba(0, 0, 0, 0.1),
      /* ä¿æŒåŸæœ‰é˜´å½± */ 0 4px 20px rgba(0, 0, 0, 0.06); /* ä¿æŒåŸæœ‰é˜´å½± */
  }
}

/* é€‰ä¸­çŠ¶æ€æ ·å¼ - ä½¿ç”¨box-shadowæ¨¡æ‹Ÿè¾¹æ¡†ï¼Œå®Œå…¨é¿å…åƒç´ åç§» */
.sticky-note.selected {
  box-shadow: inset 0 0 0 2px #1890ff,
    /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 0 2px rgba(24, 144, 255, 0.2),
    /* å¤–å‘å…‰æ•ˆæœ */ 0 2px 8px rgba(0, 0, 0, 0.1),
    /* åŸæœ‰é˜´å½± */ 0 4px 20px rgba(0, 0, 0, 0.06); /* åŸæœ‰é˜´å½± */
}

/* é€‰ä¸­çŠ¶æ€ä¼˜å…ˆçº§é«˜äºæµå¼çŠ¶æ€ */
.sticky-note.selected.streaming {
  box-shadow: inset 0 0 0 2px #1890ff,
    /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 0 2px rgba(24, 144, 255, 0.3),
    /* å¤–å‘å…‰æ•ˆæœ */ 0 0 15px rgba(24, 144, 255, 0.4); /* æµå¼å‘å…‰æ•ˆæœ */
  animation: selectedStreamingPulse 2s ease-in-out infinite;
}

/* é€‰ä¸­+æµå¼çŠ¶æ€ä¸‹çš„æ‚¬æµ®æ•ˆæœ */
.sticky-note.selected.streaming:hover {
  box-shadow: inset 0 0 0 2px #1890ff,
    /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 0 3px rgba(24, 144, 255, 0.4),
    /* å¢å¼ºå¤–å‘å…‰æ•ˆæœ */ 0 0 20px rgba(24, 144, 255, 0.5),
    /* æ‚¬æµ®é˜´å½± */ 0 4px 16px rgba(0, 0, 0, 0.12),
    0 8px 32px rgba(0, 0, 0, 0.08);
  animation: selectedStreamingPulseHover 2s ease-in-out infinite;
}

@keyframes selectedStreamingPulse {
  0%,
  100% {
    box-shadow: inset 0 0 0 2px #1890ff, 0 0 0 2px rgba(24, 144, 255, 0.3),
      0 0 15px rgba(24, 144, 255, 0.4);
  }
  50% {
    box-shadow: inset 0 0 0 2px #1890ff, 0 0 0 2px rgba(24, 144, 255, 0.5),
      0 0 20px rgba(24, 144, 255, 0.6);
  }
}

/* é€‰ä¸­+æµå¼çŠ¶æ€æ‚¬æµ®æ—¶çš„åŠ¨ç”» */
@keyframes selectedStreamingPulseHover {
  0%,
  100% {
    box-shadow: inset 0 0 0 2px #1890ff, 0 0 0 3px rgba(24, 144, 255, 0.4),
      0 0 20px rgba(24, 144, 255, 0.5), 0 4px 16px rgba(0, 0, 0, 0.12),
      0 8px 32px rgba(0, 0, 0, 0.08);
  }
  50% {
    box-shadow: inset 0 0 0 2px #1890ff, 0 0 0 4px rgba(24, 144, 255, 0.6),
      0 0 25px rgba(24, 144, 255, 0.7), 0 4px 16px rgba(0, 0, 0, 0.12),
      0 8px 32px rgba(0, 0, 0, 0.08);
  }
}

/* æµå¼å†…å®¹å®¹å™¨ */
.streaming-content {
  position: relative;
  display: inline-block;
  width: 100%;
  user-select: text; /* å…è®¸é€‰æ‹©æµå¼å†…å®¹ä¸­çš„æ–‡æœ¬ */
}

/* æµå¼å†…å®¹ä¸­çš„åˆ†å‰²çº¿æ ·å¼ */
.streaming-content hr {
  border: none;
  height: 1px;
  background: rgba(0, 0, 0, 0.15);
  margin: 16px 0;
}

/* æµå¼å…‰æ ‡æ ·å¼ */
.streaming-cursor {
  display: inline-block;
  color: #1890ff;
  font-weight: bold;
  animation: cursorBlink 1s infinite;
  margin-left: 2px;
}

@keyframes cursorBlink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0;
  }
}

/* ä¾¿ç­¾é¢œè‰²å˜ä½“ - åŠé€æ˜ç£¨ç ‚æ•ˆæœå åŠ  */
.sticky-note.color-yellow {
  background: linear-gradient(
      rgba(255, 250, 214, 0.4),
      rgba(255, 250, 214, 0.4)
    ),
    var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur) hue-rotate(5deg);
  -webkit-backdrop-filter: var(--note-glass-blur) hue-rotate(5deg);
}

.sticky-note.color-blue {
  background: linear-gradient(
      rgba(225, 243, 253, 0.4),
      rgba(225, 243, 253, 0.4)
    ),
    var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur) hue-rotate(-10deg);
  -webkit-backdrop-filter: var(--note-glass-blur) hue-rotate(-10deg);
}

.sticky-note.color-green {
  background: linear-gradient(
      rgba(229, 249, 240, 0.4),
      rgba(229, 249, 240, 0.4)
    ),
    var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur) hue-rotate(15deg);
  -webkit-backdrop-filter: var(--note-glass-blur) hue-rotate(15deg);
}

.sticky-note.color-pink {
  background: linear-gradient(
      rgba(254, 241, 240, 0.4),
      rgba(254, 241, 240, 0.4)
    ),
    var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur) hue-rotate(-5deg);
  -webkit-backdrop-filter: var(--note-glass-blur) hue-rotate(-5deg);
}

.sticky-note.color-purple {
  background: linear-gradient(
      rgba(242, 232, 247, 0.4),
      rgba(242, 232, 247, 0.4)
    ),
    var(--note-glass-bg);
  backdrop-filter: var(--note-glass-blur) hue-rotate(20deg);
  -webkit-backdrop-filter: var(--note-glass-blur) hue-rotate(20deg);
}

/* é¢œè‰²å˜ä½“çš„é™çº§æ–¹æ¡ˆ */
@supports not (backdrop-filter: blur(8px)) {
  .sticky-note.color-yellow {
    background: linear-gradient(
        rgba(255, 250, 214, 0.6),
        rgba(255, 250, 214, 0.6)
      ),
      var(--note-glass-fallback);
  }

  .sticky-note.color-blue {
    background: linear-gradient(
        rgba(225, 243, 253, 0.6),
        rgba(225, 243, 253, 0.6)
      ),
      var(--note-glass-fallback);
  }

  .sticky-note.color-green {
    background: linear-gradient(
        rgba(229, 249, 240, 0.6),
        rgba(229, 249, 240, 0.6)
      ),
      var(--note-glass-fallback);
  }

  .sticky-note.color-pink {
    background: linear-gradient(
        rgba(254, 241, 240, 0.6),
        rgba(254, 241, 240, 0.6)
      ),
      var(--note-glass-fallback);
  }

  .sticky-note.color-purple {
    background: linear-gradient(
        rgba(242, 232, 247, 0.6),
        rgba(242, 232, 247, 0.6)
      ),
      var(--note-glass-fallback);
  }
}

/* æ‚¬æµ®æ•ˆæœ - å¢å¼ºç£¨ç ‚æ•ˆæœ */
.sticky-note:hover:not(.selected) {
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 8px 32px rgba(0, 0, 0, 0.08);
  transform: translateY(-1px); /* è½»å¾®ä¸Šæµ®æ•ˆæœ */
  transition: all 0.2s ease;
}

/* é€‰ä¸­çŠ¶æ€ä¸‹çš„æ‚¬æµ®æ•ˆæœ - å¢å¼ºé€‰ä¸­è¾¹æ¡†çš„å‘å…‰ */
.sticky-note.selected:hover {
  box-shadow: inset 0 0 0 2px #1890ff,
    /* å†…è¾¹æ¡†æ•ˆæœ */ 0 0 0 3px rgba(24, 144, 255, 0.3),
    /* å¢å¼ºå¤–å‘å…‰æ•ˆæœ */ 0 4px 16px rgba(0, 0, 0, 0.12),
    /* æ‚¬æµ®é˜´å½± */ 0 8px 32px rgba(0, 0, 0, 0.08); /* æ‚¬æµ®é˜´å½± */
}

.sticky-note.dragging {
  cursor: move;
  z-index: 1000;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 8px 32px rgba(0, 0, 0, 0.1); /* ç®€åŒ–é˜´å½±æ•ˆæœ */
  /* æ‹–æ‹½æ—¶ç¦ç”¨æ‰€æœ‰è¿‡æ¸¡æ•ˆæœï¼Œç¡®ä¿æµç•…æ€§èƒ½ */
  transition: none !important;
}

/* ç¼©æ”¾çŠ¶æ€ - ç¦ç”¨è¿‡æ¸¡æ•ˆæœé¿å…é¡¿æŒ« */
.sticky-note.resizing {
  transition: none !important;
}

.sticky-note.editing {
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15),
    0 8px 32px rgba(59, 130, 246, 0.1), 0 0 0 2px rgba(59, 130, 246, 0.2); /* ç¼–è¾‘æ—¶è“è‰²é˜´å½±+ç„¦ç‚¹ç¯ */
}

.sticky-note.new {
  animation: fadeInMinimal 0.2s ease-out;
}

@keyframes fadeInMinimal {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.sticky-note-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  /* ç§»é™¤ç‹¬ç«‹èƒŒæ™¯è‰² */
  /* background: rgba(0, 0, 0, 0.02); */
  /* ç§»é™¤åˆ†å‰²çº¿ */
  /* border-bottom: 1px solid rgba(0, 0, 0, 0.08); */
  border-radius: 8px 8px 0 0;
  /* æ›´æ–°flexå¸ƒå±€ */
  flex-wrap: nowrap;
  gap: 8px; /* æ ‡é¢˜åŒºåŸŸå’ŒæŒ‰é’®åŒºåŸŸä¹‹é—´çš„é—´è· */

  /* ç¡®ä¿åœ¨æ‰€æœ‰ç¼©æ”¾çº§åˆ«ä¸‹éƒ½èƒ½æ­£ç¡®å¸ƒå±€ */
  min-height: 40px; /* ç¡®ä¿æœ‰è¶³å¤Ÿçš„é«˜åº¦ */
  position: relative; /* ä¸ºå­å…ƒç´ æä¾›å®šä½ä¸Šä¸‹æ–‡ */
}

.sticky-note-title {
  margin: 0;
  font-size: var(
    --note-title-font-size,
    14px
  ); /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶æ ‡é¢˜å­—ä½“å¤§å° */
  font-weight: 600;
  color: #374151;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 4px;
  /* ç§»é™¤èƒŒæ™¯è‰²è¿‡æ¸¡åŠ¨ç”» */
  /* transition: background-color 0.2s ease; */
  /* ä¸å†ä½¿ç”¨flex: 1 */
  min-width: 0;
  max-width: 100%; /* å…è®¸å æ»¡å¯ç”¨ç©ºé—´ */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  /* ç§»é™¤æ–‡æœ¬å±…ä¸­ */
  box-sizing: border-box; /* åŒ…å«padding */
}

/* æ ‡é¢˜æ‚¬åœæ•ˆæœå·²ç§»é™¤ */

.sticky-note-controls {
  display: flex;
  gap: 4px;
  justify-content: flex-end; /* è®©æŒ‰é’®é å³å¯¹é½ï¼Œåˆ é™¤æŒ‰é’®ä¿æŒåœ¨å³ä¾§ */
  opacity: 0; /* æ¢å¤é€æ˜åº¦æ§åˆ¶ï¼Œé»˜è®¤éšè— */
  /* ç§»é™¤é€æ˜åº¦è¿‡æ¸¡åŠ¨ç”»ï¼Œè®©æ§ä»¶æ˜¾ç¤ºæ›´ç›´æ¥ */
  /* transition: opacity 0.2s ease; */
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  /* ç§»é™¤å›ºå®šæœ€å°å®½åº¦ï¼Œè®©æ§ä»¶åŒºåŸŸè‡ªé€‚åº”æŒ‰é’®æ•°é‡ */

  /* ç¡®ä¿åœ¨æ‰€æœ‰ç¼©æ”¾çº§åˆ«ä¸‹éƒ½èƒ½æ­£ç¡®å®šä½ */
  position: relative;
  min-width: fit-content; /* ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³æŒ‰é’® */
  align-items: center; /* å‚ç›´å±…ä¸­å¯¹é½ */

  /* å¢å¼ºç¨³å®šæ€§ - ç¡®ä¿æ§ä»¶å§‹ç»ˆåœ¨æ­£ç¡®ä½ç½® */
  width: auto; /* è‡ªåŠ¨å®½åº¦ */
  height: auto; /* è‡ªåŠ¨é«˜åº¦ */
  box-sizing: border-box; /* åŒ…å«paddingå’Œborder */
}

/* æ¢å¤é¼ æ ‡æ‚¬æµ®æ‰æ˜¾ç¤ºæ§ä»¶çš„è§„åˆ™ */
.sticky-note:hover .sticky-note-controls {
  opacity: 1;
}

/* ç¼–è¾‘çŠ¶æ€ä¸‹å§‹ç»ˆæ˜¾ç¤ºæ§ä»¶ */
.sticky-note.editing .sticky-note-controls {
  opacity: 1;
}

.sticky-note-controls button {
  background: rgba(0, 0, 0, 0.06); /* ä¸æ ‡é¢˜èƒŒæ™¯è‰²ä¸€è‡´ */
  border: none;
  cursor: pointer;
  font-size: 14px;
  padding: 4px;
  border-radius: 4px;
  /* ç§»é™¤æŒ‰é’®èƒŒæ™¯è‰²è¿‡æ¸¡åŠ¨ç”» */
  /* transition: background-color 0.2s ease; */
}

.sticky-note-controls button:hover {
  background: rgba(0, 0, 0, 0.1); /* æ‚¬æµ®æ—¶ç¨å¾®æ·±ä¸€ç‚¹ */
}

.sticky-note-controls button.delete-button:hover {
  color: #ff4d4f !important; /* æ‚¬æµ®æ—¶å›¾æ ‡å˜ä¸ºçº¢è‰² */
  background: rgba(255, 77, 79, 0.1); /* æ‚¬æµ®æ—¶èƒŒæ™¯å¸¦æœ‰æ·¡çº¢è‰² */
  transform: scale(1.05); /* æ‚¬æµ®æ—¶è½»å¾®æ”¾å¤§ */
}

/* æº¯æºæŒ‰é’®æ ·å¼ - ä¸åˆ é™¤æŒ‰é’®ä¿æŒä¸€è‡´ */
.sticky-note-controls button.source-button {
  background: rgba(0, 0, 0, 0.06); /* ä¸åˆ é™¤æŒ‰é’®èƒŒæ™¯è‰²ä¸€è‡´ */
  border: none;
  cursor: pointer;
  font-size: 14px;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease; /* æ·»åŠ è¿‡æ¸¡åŠ¨ç”» */
}

.sticky-note-controls button.source-button:hover {
  color: #fa8c16 !important; /* æ‚¬æµ®æ—¶å›¾æ ‡å˜ä¸ºæ©™è‰² */
  background: rgba(250, 140, 22, 0.1); /* æ‚¬æµ®æ—¶èƒŒæ™¯å¸¦æœ‰æ·¡æ©™è‰² */
  transform: scale(1.05); /* æ‚¬æµ®æ—¶è½»å¾®æ”¾å¤§ */
}

/* æº¯æºæŒ‰é’®æ¿€æ´»çŠ¶æ€ */
.sticky-note-controls button.source-button.active {
  color: #fa8c16 !important; /* æ¿€æ´»æ—¶æ©™è‰² */
  background: rgba(250, 140, 22, 0.15); /* æ¿€æ´»æ—¶èƒŒæ™¯æ›´æ˜æ˜¾ */
}

/* é’ˆå¯¹å°ç¼©æ”¾çº§åˆ«çš„æ§ä»¶ä¼˜åŒ– - ä½¿ç”¨æ•°æ®å±æ€§æ¥æ£€æµ‹ç¼©æ”¾çº§åˆ« */
/* 25%ç¼©æ”¾çš„æ§ä»¶æ ·å¼åœ¨ä¸‹é¢ç»Ÿä¸€å¤„ç† */

.sticky-note[data-scale="0.5"] .sticky-note-controls,
.sticky-note[data-scale="0.75"] .sticky-note-controls {
  /* 50%å’Œ75%ç¼©æ”¾æ—¶çš„å®šä½ç­–ç•¥ */
  position: absolute !important;
  right: 10px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 50 !important;
  display: flex !important;
  gap: 2px !important;
  flex-shrink: 0 !important;
  align-items: center !important;
}

/* 25%ç¼©æ”¾çš„å¤´éƒ¨æ ·å¼åœ¨ä¸‹é¢ç»Ÿä¸€å¤„ç† */

.sticky-note[data-scale="0.5"] .sticky-note-header,
.sticky-note[data-scale="0.75"] .sticky-note-header {
  /* 50%å’Œ75%ç¼©æ”¾æ—¶çš„å¤„ç† */
  position: relative !important;
  padding-right: 36px !important; /* ä¸ºæ§ä»¶ç•™å‡ºç©ºé—´ */
}

/* åœ¨å°ç¼©æ”¾çº§åˆ«ä¸‹è°ƒæ•´æ‹–æ‹½åŒºåŸŸ */
.sticky-note[data-scale="0.5"] .drag-handle,
.sticky-note[data-scale="0.75"] .drag-handle {
  /* ç¡®ä¿æ‹–æ‹½åŒºåŸŸä¸ä¼šè¦†ç›–æ§ä»¶ */
  padding-right: 0 !important; /* ç§»é™¤é¢å¤–çš„paddingï¼Œå› ä¸ºheaderå·²ç»æœ‰äº† */
}

/* åœ¨å°ç¼©æ”¾çº§åˆ«ä¸‹è°ƒæ•´æŒ‰é’®å¤§å° */
.sticky-note[data-scale="0.25"] .sticky-note-controls button {
  /* 25%ç¼©æ”¾æ—¶çš„æå°æŒ‰é’® */
  padding: 1px !important;
  font-size: 10px !important; /* æ›´å°çš„å›¾æ ‡ */
  min-width: 16px !important; /* æ›´å°ä½†ä»å¯ç‚¹å‡» */
  min-height: 16px !important;
  border-radius: 2px !important;
  line-height: 1 !important; /* ç¡®ä¿å›¾æ ‡å±…ä¸­ */
}

.sticky-note[data-scale="0.5"] .sticky-note-controls button,
.sticky-note[data-scale="0.75"] .sticky-note-controls button {
  padding: 2px !important;
  font-size: 12px !important;
  min-width: 20px !important;
  min-height: 20px !important;
  border-radius: 3px !important;
}

/* 25%ç¼©æ”¾æ—¶çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ */
.sticky-note[data-scale="0.25"] {
  /* ç¡®ä¿ä¾¿ç­¾æœ¬èº«æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³æ§ä»¶ */
  min-width: 50px !important; /* æœ€å°å®½åº¦ç¡®ä¿æ§ä»¶æœ‰ç©ºé—´ */
  min-height: 38px !important; /* æœ€å°é«˜åº¦ç¡®ä¿æ§ä»¶ä¸ä¼šæº¢å‡º */
}

.sticky-note[data-scale="0.25"] .sticky-note-header {
  /* å®Œå…¨é‡å†™å¤´éƒ¨å¸ƒå±€ */
  position: relative !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: flex-start !important; /* é¡¶éƒ¨å¯¹é½ */
  padding: 6px 8px !important;
  min-height: 24px !important;
  overflow: visible !important; /* ç¡®ä¿æ§ä»¶å¯è§ */
}

.sticky-note[data-scale="0.25"] .drag-handle {
  /* æ‹–æ‹½åŒºåŸŸå æ®å‰©ä½™ç©ºé—´ */
  flex: 1 !important;
  min-width: 0 !important;
  padding-right: 4px !important;
}

.sticky-note[data-scale="0.25"] .sticky-note-controls {
  /* æ§ä»¶å›ºå®šåœ¨å³ä¾§ */
  position: static !important; /* ä½¿ç”¨é™æ€å®šä½ï¼Œä¾èµ–flexå¸ƒå±€ */
  flex-shrink: 0 !important;
  align-self: flex-start !important; /* é¡¶éƒ¨å¯¹é½ */
  margin-top: 0 !important;
  z-index: 10 !important;
}

/* ä¾¿ç­¾å·¥å…·æ æ ·å¼ - ä½äºä¾¿ç­¾å³ä¾§ï¼Œæç®€è®¾è®¡ */
.settings-toolbar {
  position: absolute;
  display: flex;
  gap: 4px; /* è¿›ä¸€æ­¥å‡å°æŒ‰é’®é—´è· */
  background: rgba(255, 255, 255, 0.92);
  border-radius: 6px; /* è¿›ä¸€æ­¥å‡å°åœ†è§’ */
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04); /* è¿›ä¸€æ­¥å‡è½»é˜´å½± */
  backdrop-filter: blur(6px); /* è¿›ä¸€æ­¥å‡å°‘æ¨¡ç³Šæ•ˆæœ */
  border: 1px solid rgba(0, 0, 0, 0.04); /* è¿›ä¸€æ­¥å‡æ·¡è¾¹æ¡† */
  padding: 4px; /* è¿›ä¸€æ­¥å‡å°å†…è¾¹è· */
  /* ç§»é™¤å›ºå®šçš„z-indexï¼Œè®©JavaScriptåŠ¨æ€è®¾ç½® */
  animation: settingsToolbarSlideIn 0.12s ease-out; /* è¿›ä¸€æ­¥åŠ å¿«åŠ¨ç”»é€Ÿåº¦ */
}

/* ç«–æ’å·¥å…·æ æ ·å¼ - å‚ç›´æ’åˆ—æŒ‰é’® */
.settings-toolbar.vertical {
  flex-direction: column; /* æ”¹ä¸ºå‚ç›´æ’åˆ— */
  animation: settingsToolbarSlideInVertical 0.12s ease-out; /* ä½¿ç”¨å‚ç›´æ»‘å…¥åŠ¨ç”» */
}

/* è®¾ç½®å·¥å…·æ æ»‘å…¥åŠ¨ç”» - æ°´å¹³ç‰ˆæœ¬ */
@keyframes settingsToolbarSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* è®¾ç½®å·¥å…·æ æ»‘å…¥åŠ¨ç”» - å‚ç›´ç‰ˆæœ¬ */
@keyframes settingsToolbarSlideInVertical {
  from {
    opacity: 0;
    transform: translateX(10px) scale(0.95); /* ä»å³ä¾§æ»‘å…¥ */
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* è®¾ç½®å·¥å…·æ æŒ‰é’® - åŸºäºAnt Design Buttonçš„æç®€è®¾è®¡ */
.settings-toolbar .settings-toolbar-button {
  position: relative;
  width: 28px !important; /* è¿›ä¸€æ­¥å‡å°å°ºå¯¸ */
  height: 28px !important;
  min-width: 28px !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background: transparent !important;
  border-radius: 4px !important; /* è¿›ä¸€æ­¥å‡å°åœ†è§’ */
  border: none !important;
  box-shadow: none !important;
  transition: all 0.12s ease !important;
  pointer-events: auto !important; /* ç¡®ä¿å¯ä»¥ç‚¹å‡» */
  cursor: pointer !important; /* ç¡®ä¿æ˜¾ç¤ºæŒ‡é’ˆ */
}

/* å¢å¼ºé€‰æ‹©å™¨ä¼˜å…ˆçº§ï¼Œç¡®ä¿æ‚¬æµ®æ•ˆæœèƒ½è¦†ç›–Ant Designé»˜è®¤æ ·å¼ */
.settings-toolbar .settings-toolbar-button.ant-btn:hover:not(.disabled),
.settings-toolbar .settings-toolbar-button:hover:not(.disabled) {
  background: rgba(22, 119, 255, 0.1) !important; /* å¢å¼ºè“è‰²èƒŒæ™¯ */
  color: #1677ff !important; /* å›¾æ ‡å˜ä¸ºä¸»é¢˜è“è‰² */
  transform: scale(1.05) !important; /* è½»å¾®æ”¾å¤§ */
  box-shadow: 0 2px 6px rgba(22, 119, 255, 0.2) !important; /* æ·»åŠ è“è‰²é˜´å½± */
  border-color: transparent !important; /* ç¡®ä¿è¾¹æ¡†é€æ˜ */
}

/* ç¡®ä¿å›¾æ ‡ä¹Ÿå˜æˆè“è‰² */
.settings-toolbar .settings-toolbar-button:hover:not(.disabled) .anticon {
  color: #1677ff !important;
}

/* æ¿€æ´»çŠ¶æ€æ ·å¼ - å¢å¼ºé€‰æ‹©å™¨ä¼˜å…ˆçº§ */
.settings-toolbar .settings-toolbar-button.ant-btn.active,
.settings-toolbar .settings-toolbar-button.active {
  background: rgba(250, 140, 22, 0.1) !important;
  color: #fa8c16 !important;
}

.settings-toolbar .settings-toolbar-button.ant-btn.active:hover,
.settings-toolbar .settings-toolbar-button.active:hover {
  background: rgba(250, 140, 22, 0.14) !important;
  transform: scale(1.03) !important;
}

/* ç¦ç”¨çŠ¶æ€æ ·å¼ - å¢å¼ºé€‰æ‹©å™¨ä¼˜å…ˆçº§ */
.settings-toolbar .settings-toolbar-button.ant-btn.disabled,
.settings-toolbar .settings-toolbar-button.disabled {
  opacity: 0.25 !important;
  cursor: not-allowed !important;
}

.settings-toolbar .settings-toolbar-button.ant-btn.disabled:hover,
.settings-toolbar .settings-toolbar-button.disabled:hover {
  transform: none !important;
  background: transparent !important;
  color: inherit !important;
}

/* å·¥å…·æ æŒ‰é’®å›¾æ ‡æ ·å¼ */
.settings-toolbar .settings-toolbar-button .anticon {
  font-size: 12px !important; /* è¿›ä¸€æ­¥å‡å°å›¾æ ‡å°ºå¯¸ */
  color: inherit;
}

/* å·¥å…·æ å¾½ç«  - å³ä¸Šè§’å°æ•°å­—ï¼Œæç®€è®¾è®¡ */
.settings-toolbar .toolbar-badge {
  position: absolute;
  top: -2px;
  right: -2px;
  background: #fa8c16;
  color: white;
  font-size: var(--note-badge-font-size, 8px); /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶å¾½ç« å­—ä½“å¤§å° */
  font-weight: bold;
  padding: 1px 2px; /* è¿›ä¸€æ­¥å‡å°å†…è¾¹è· */
  border-radius: 4px; /* è¿›ä¸€æ­¥å‡å°åœ†è§’ */
  min-width: 12px; /* è¿›ä¸€æ­¥å‡å°æœ€å°å®½åº¦ */
  height: 12px; /* è¿›ä¸€æ­¥å‡å°é«˜åº¦ */
  display: flex;
  align-items: center;
  justify-content: center;
  border: 0.5px solid white; /* è¿›ä¸€æ­¥å‡ç»†è¾¹æ¡† */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* è¿›ä¸€æ­¥å‡è½»é˜´å½± */
  z-index: 1;
}

.settings-toolbar .settings-toolbar-button.active .toolbar-badge {
  background: #d46b08;
}

.settings-toolbar .settings-toolbar-button.disabled .toolbar-badge {
  background: #ccc;
  opacity: 0.6;
}

.sticky-note-content {
  flex: 1;
  padding-left: 16px; /* ğŸ¯ åŸç”Ÿæ–¹æ¡ˆï¼šå·¦ä¾§16pxå†…è¾¹è· */
  padding-right: 16px; /* ğŸ¯ åŸç”Ÿæ–¹æ¡ˆï¼šå³ä¾§16pxå†…è¾¹è·ï¼Œæ»šåŠ¨æ¡åœ¨æ­¤åŒºåŸŸå†… */
  /* padding-top: 16px; */
  padding-bottom: 16px; /* éç¼–è¾‘çŠ¶æ€çš„ä¸‹å†…è¾¹è· */
  overflow: hidden; /* ä¿®å¤ï¼šä¸å…è®¸å†…å®¹æº¢å‡ºï¼Œç¡®ä¿é«˜åº¦çº¦æŸç”Ÿæ•ˆ */
  display: flex;
  flex-direction: column;
  user-select: text; /* å…è®¸é€‰æ‹©å†…å®¹åŒºåŸŸçš„æ–‡æœ¬ */
  min-height: 0; /* å…³é”®ï¼šå…è®¸flexå­å…ƒç´ æ”¶ç¼© */
}

/* åŒ…å«æ€ç»´é“¾çš„ä¾¿ç­¾å†…å®¹åŒºåŸŸç‰¹æ®Šå¤„ç† */
.sticky-note-content:has(.thinking-chain-in-note) {
  overflow: visible; /* å…è®¸æ€ç»´é“¾ç»„ä»¶å†…éƒ¨å¤„ç†æ»šåŠ¨ */
}

/* å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ:hasé€‰æ‹©å™¨ï¼Œä½¿ç”¨ç±»åæ–¹å¼ */
.sticky-note-content.has-thinking-chain {
  overflow: visible; /* å…è®¸æ€ç»´é“¾ç»„ä»¶å†…éƒ¨å¤„ç†æ»šåŠ¨ */
}

/* ç¼–è¾‘çŠ¶æ€ä¸‹çš„sticky-note-content - ç§»é™¤ä¸‹å†…è¾¹è· */
.sticky-note.editing .sticky-note-content {
  padding-bottom: 0; /* ç¼–è¾‘çŠ¶æ€æ—¶ç§»é™¤ä¸‹å†…è¾¹è·ï¼Œè®©å·¥å…·æ ç´§è´´å†…å®¹ */
}

/* åŸºæœ¬çš„æ–‡æœ¬æ¸²æŸ“ä¼˜åŒ– - ç®€åŒ–ç‰ˆæœ¬ */
.sticky-note-title,
.sticky-note-title-input {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.empty-note {
  color: #374151;
  font-style: normal;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  height: 100%;
}

.resize-handle {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 16px;
  height: 16px;
  cursor: nw-resize;
  /* ä¿æŒé€æ˜ï¼Œä½†åŠŸèƒ½å¯ç”¨ */
  background: transparent;
  opacity: 1; /* å§‹ç»ˆå¯ç”¨ï¼Œä½†é€æ˜ */
}

/* ç¼©æ”¾æ‰‹æŸ„æ‚¬åœæ•ˆæœå·²ç§»é™¤ */

/* ä¼˜é›…çš„å¼§å½¢ç¼©æ”¾æç¤ºç¬¦å· - ä½äºä¾¿ç­¾å¤–éƒ¨å³ä¸‹è§’ï¼Œä¿æŒ3pxé—´è· */
.resize-indicator {
  position: absolute;
  bottom: -11px; /* 8pxå¼§çº¿é«˜åº¦ + 3pxé—´è· */
  right: -11px; /* 8pxå¼§çº¿å®½åº¦ + 3pxé—´è· */
  width: 11px;
  height: 11px;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none; /* ä¸é˜»æŒ¡resize-handleçš„ç‚¹å‡»äº‹ä»¶ */
  z-index: 1; /* ç¡®ä¿åœ¨resize-handleä¹‹ä¸Šæ˜¾ç¤º */
}

/* ä¾¿ç­¾æ‚¬æµ®æ—¶æ˜¾ç¤ºç¼©æ”¾æç¤ºç¬¦å· */
.sticky-note:hover:not(.editing):not(.dragging) .resize-indicator {
  opacity: 0.4;
}

/* å®Œæ•´çš„å¼§å½¢æŒ‡ç¤ºå™¨ - åŒæ—¶å®ç°å¼§å½¢è¿æ¥å’Œåœ†å¤´çº¿æ®µï¼Œ8pxç²—çº¿æ¡ */
.resize-indicator::before {
  content: "";
  position: absolute;
  bottom: 2px;
  right: 2px;
  width: 8px;
  height: 8px;
  background: transparent;
  border-bottom: 5px solid rgba(0, 0, 0, 0.3); /* æ›´ç²—çš„çº¿æ¡ */
  border-right: 5px solid rgba(0, 0, 0, 0.3); /* æ›´ç²—çš„çº¿æ¡ */
  border-radius: 2px 2px 13px 2px; /* è°ƒæ•´ç«¯ç‚¹åœ†è§’ä»¥åŒ¹é…çº¿æ¡å®½åº¦ */
  /* 4px: å³ä¾§çº¿æ®µä¸Šç«¯åœ†å¤´ï¼ˆçº¿æ¡å®½åº¦çš„ä¸€åŠï¼‰ */
  /* 4px: ä¿æŒå¯¹ç§° */
  /* 10px: å¼§å½¢è¿æ¥å¤„ */
  /* 4px: åº•éƒ¨çº¿æ®µå·¦ç«¯åœ†å¤´ï¼ˆçº¿æ¡å®½åº¦çš„ä¸€åŠï¼‰ */
}

/* å“åº”å¼è®¾è®¡ - åœ¨å°ç¼©æ”¾çº§åˆ«ä¸‹è°ƒæ•´å­—ä½“ */
@media (max-width: 768px) {
  .sticky-note {
    font-size: 12px;
  }
}

.sticky-note-title-input {
  margin: 0;
  font-size: var(
    --note-title-font-size,
    14px
  ); /* ä½¿ç”¨CSSå˜é‡æ§åˆ¶æ ‡é¢˜è¾“å…¥æ¡†å­—ä½“å¤§å° */
  font-weight: 600;
  color: #374151;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid #d1d5db;
  border-radius: 4px;
  padding: 2px 6px;
  outline: none;
  font-family: inherit;
  /* ç§»é™¤æ–‡æœ¬å±…ä¸­ */
  width: 100%; /* å æ»¡å¯ç”¨ç©ºé—´ */
  min-width: 100px;
  max-width: calc(100% - 10px); /* ç¡®ä¿ä¸ä¼šè¶…å‡ºå®¹å™¨ */
  box-sizing: border-box; /* åŒ…å«paddingå’Œborder */
}

.sticky-note-title-input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 1px #3b82f6;
}

/* AIç”ŸæˆåŠ è½½æŒ‡ç¤ºå™¨ - ç®€åŒ–ç‰ˆæœ¬ */
.ai-loading-indicator {
  position: absolute;
  bottom: 12px;
  left: 16px;
  display: flex;
  align-items: center;
  color: #666;
  font-size: calc(
    var(--note-content-font-size, 14px) * 0.85
  ); /* ä½¿ç”¨ç›¸å¯¹äºå†…å®¹å­—ä½“çš„å¤§å° */
  opacity: 0.8;
}

.ai-loading-indicator .anticon {
  margin-right: 4px;
}

/* è¿æ¥ç‚¹æ ·å¼ - ä½äºä¾¿ç­¾å·¦ä¸‹è§’ */
.connection-point {
  position: absolute;
  bottom: 8px; /* è°ƒæ•´åˆ°ä¾¿ç­¾å†…éƒ¨ï¼Œè·ç¦»åº•éƒ¨8px */
  left: 8px; /* è°ƒæ•´åˆ°ä¾¿ç­¾å†…éƒ¨ï¼Œè·ç¦»å·¦è¾¹8px */
  width: 18px; /* ä¸æ’æ§½å°ºå¯¸ç»Ÿä¸€ */
  height: 18px; /* ä¸æ’æ§½å°ºå¯¸ç»Ÿä¸€ */
  cursor: pointer;
  z-index: 10;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease; /* æ·»åŠ æ‰€æœ‰å±æ€§çš„è¿‡æ¸¡åŠ¨ç”» */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ä¾¿ç­¾æ‚¬åœæ—¶æ˜¾ç¤ºè¿æ¥ç‚¹ */
.sticky-note:hover .connection-point {
  opacity: 1;
}

/* è¿æ¥ç‚¹å†…éƒ¨çš„åœ†ç‚¹ */
.connection-dot {
  width: 15px; /* ä¸æ’æ§½å†…éƒ¨å…ƒç´ å°ºå¯¸åè°ƒ */
  height: 15px;
  border-radius: 50%;
  background: rgba(22, 119, 255, 0.9); /* å¢åŠ ä¸é€æ˜åº¦ */
  border: 1px solid rgba(255, 255, 255, 1); /* ä¸æ’æ§½è¾¹æ¡†ç²—ç»†ä¸€è‡´ */
  transition: background-color 0.2s ease, box-shadow 0.2s ease; /* åªå¯¹é¢œè‰²å’Œé˜´å½±åšè¿‡æ¸¡ */
  box-shadow: 0 1px 4px rgba(22, 119, 255, 0.3); /* ä¸æ’æ§½é˜´å½±ä¸€è‡´ */
  /* ç¡®ä¿åœ†ç‚¹å®Œå…¨å±…ä¸­ï¼Œä½†ä¸ä½¿ç”¨transformé¿å…ä½ç½®åç§» */
  margin: auto;
}

/* è¿æ¥ç‚¹æ‚¬åœæ•ˆæœ */
.connection-point:hover {
  transform: scale(1.1); /* æ‚¬æµ®æ—¶è½»å¾®æ”¾å¤§ */
}

.connection-point:hover .connection-dot {
  background: #1677ff; /* ä¸»é¢˜è“è‰² */
  box-shadow: 0 2px 8px rgba(22, 119, 255, 0.5); /* å¢å¼ºè“è‰²é˜´å½± */
  border-color: rgba(22, 119, 255, 0.3); /* è“è‰²è¾¹æ¡† */
}

/* å·²è¿æ¥çŠ¶æ€çš„è¿æ¥ç‚¹ - å§‹ç»ˆæ˜¾ç¤º */
.connection-point.connected {
  opacity: 1; /* å·²è¿æ¥æ—¶å§‹ç»ˆæ˜¾ç¤º */
}

/* æºä¾¿ç­¾è¿æ¥ç‚¹æ ·å¼å·²ä¼˜åŒ– */

/* æ­£åœ¨è¢«æº¯æºè¿æ¥çº¿è¿æ¥æ—¶çš„è¿æ¥ç‚¹ - å§‹ç»ˆæ˜¾ç¤º */
.connection-point.being-source-connected {
  opacity: 1; /* æ­£åœ¨è¢«æº¯æºè¿æ¥çº¿è¿æ¥æ—¶å§‹ç»ˆæ˜¾ç¤º */
}

/* æœ‰æº¯æºè¿æ¥çº¿æ¿€æ´»æ—¶çš„è¿æ¥ç‚¹ - å§‹ç»ˆæ˜¾ç¤º */
.connection-point.source-active {
  opacity: 1; /* æœ‰æº¯æºè¿æ¥çº¿æ—¶å§‹ç»ˆæ˜¾ç¤º */
}

/* æœ‰æº¯æºæ ‡è¯†çš„è¿æ¥ç‚¹ - å¦‚æœå·²è¿æ¥æˆ–æœ‰æº¯æºè¿æ¥çº¿æ¿€æ´»ï¼Œåˆ™å§‹ç»ˆæ˜¾ç¤º */
.connection-point.has-source.connected,
.connection-point.has-source.source-active {
  opacity: 1; /* å·²è¿æ¥æˆ–æœ‰æº¯æºè¿æ¥çº¿æ—¶å§‹ç»ˆæ˜¾ç¤º */
}

/* ä¾¿ç­¾æ‚¬åœæ—¶æ˜¾ç¤ºæ‰€æœ‰è¿æ¥ç‚¹ - ç»Ÿä¸€çš„æ˜¾ç¤ºé€»è¾‘ */
.sticky-note:hover .connection-point {
  opacity: 1; /* æ‚¬åœæ—¶å®Œå…¨æ˜¾ç¤ºï¼ŒåŒ…æ‹¬æœ‰æº¯æºæ ‡è¯†çš„è¿æ¥ç‚¹ */
}

.connection-point.connected .connection-dot {
  background: #52c41a; /* ç»¿è‰²è¡¨ç¤ºå·²è¿æ¥ */
  border-color: rgba(255, 255, 255, 1);
  animation: connectedPulse 2s ease-in-out infinite;
}

/* å·²è¿æ¥çŠ¶æ€çš„è„‰å†²åŠ¨ç”» */
@keyframes connectedPulse {
  0%,
  100% {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(82, 196, 26, 0.4);
  }
  50% {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), 0 0 0 4px rgba(82, 196, 26, 0.2);
  }
}

/* è¿æ¥ç‚¹åœ¨ä¸åŒä¾¿ç­¾é¢œè‰²ä¸‹çš„é€‚é… */
.sticky-note.color-yellow .connection-point.connected .connection-dot,
.sticky-note.color-blue .connection-point.connected .connection-dot,
.sticky-note.color-green .connection-point.connected .connection-dot,
.sticky-note.color-pink .connection-point.connected .connection-dot,
.sticky-note.color-purple .connection-point.connected .connection-dot {
  background: #52c41a; /* ç»Ÿä¸€ä½¿ç”¨ç»¿è‰²è¡¨ç¤ºè¿æ¥çŠ¶æ€ */
}

/* è¿æ¥ç‚¹æœ‰æº¯æºæ—¶çš„é¢å¤–æ ·å¼è°ƒæ•´ - ä¿ç•™ç”¨äºå‘åå…¼å®¹ */
.connection-point.has-source {
  /* æœ‰æº¯æºæ ‡è¯†çš„è¿æ¥ç‚¹å¯ä»¥æœ‰ç¨å¾®ä¸åŒçš„è¾¹æ¡† */
  border-color: rgba(250, 140, 22, 0.1); /* éå¸¸æ·¡çš„æ©™è‰²è¾¹æ¡†æç¤º */
}

/* æœ‰æº¯æºæ ‡è¯†çš„è¿æ¥ç‚¹æ‚¬åœæ—¶çš„ç‰¹æ®Šæ•ˆæœ */
.connection-point.has-source:hover {
  border-color: rgba(250, 140, 22, 0.3); /* æ‚¬åœæ—¶æ©™è‰²è¾¹æ¡†æ›´æ˜æ˜¾ */
}

/* åˆ†é¡µMarkdownå®¹å™¨æ ·å¼ */
.paginated-markdown-container {
  width: 100%;
  height: 100%;
  user-select: text; /* å…è®¸é€‰æ‹©åˆ†é¡µMarkdownå®¹å™¨ä¸­çš„æ–‡æœ¬ */
}

/* åˆ†é¡µMarkdownå®¹å™¨ä¸­çš„åˆ†å‰²çº¿æ ·å¼ */
.paginated-markdown-container hr {
  border: none;
  height: 1px;
  background: rgba(0, 0, 0, 0.15);
  margin: 16px 0;
}
